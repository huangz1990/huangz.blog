如何选择合适的数据库（一）：对比MariaDB和PostgreSQL
=========================================================

.. image:: images/cubes.jpg

.. note::

        本文编译自\ `Percona博客文章 <https://www.percona.com/blog/choosing-the-right-database-comparing-mariadb-vs-mysql-postgresql-and-mongodb/>`__\ ，有删改。

        这是“如何选择正确的数据库”系列文章的第一篇，本系列共三篇，其余文章请见\ `huangz.blog <https://huangz.blog/>`__\ 。

为了确保与现有应用程序和基础设施的兼容、优化应用程序性能并降低成本，选择符合需求的数据库技术非常重要。但是数据库那么多，想要做出明智的抉择并不容易。

这篇博文对MariaDB和PostgreSQL进行了正面的比较，强调它们之间的相似之处和不同之处。我们将重点关注成本、支持选项、社区生态系统、特定功能和使用场景等关键方面。

希望这里提供的专家意见能够帮助你更好地选择符合自己需求的数据库。

MariaDB与PostgreSQL
-------------------

首先，让我们来对比MariaDB和PostgreSQL这两个著名的开源数据库。我们将研究它们主要的相似之处和不同之处，重点关注功能、性能和理想用例。

相似之处
~~~~~~~~

MariaDB和PostgreSQL都是强大的数据库系统，因其可靠性和强大的社区支持而广受认可。两者都支持各种编程语言，比如Python、Java、C/C++和PHP，并提供诸如ACID合规性以确保事务可靠性并支持复杂的查询。

不同之处
~~~~~~~~

**性能和存储引擎**\ ：MariaDB以其速度而著称，它包含多个存储引擎（包括Aria和InnoDB），每个引擎都有它们各自适合的工作负载，并且可以根据特定的性能或数据完整性需求进行微调。与此相反，PostgreSQL使用单一的默认ACID兼容存储引擎，该引擎对并发性和数据完整性进行了优化，这种做法简化了架构，但是也限制了针对特定性能场景进行微调的可能。

**复杂性**\ ：与MariaDB相比，PostgreSQL提供了更高级的特性，但这些特性也带来了更陡峭的学习曲线。

**高级特性**\ ：PostgreSQL经常因其特性丰富而受到表扬，比如它强大存储过程、复杂的加锁机制以及对JSON、XML和数组等“NoSQL”数据类型的支持。这些功能使得PostgreSQL成为需要复杂数据集成和强大数据完整性的应用程序的理想选择。

**扩展和索引**\ ：PostgreSQL还支持更高级的索引类型和非常多的扩展，使其具有极强的可扩展性。比如PostgreSQL的GIN和GIST索引就非常适合实现全文搜索和储存地理空间数据。MariaDB虽然也提供了灵活的插件架构，但它支持的专用索引类型并不多。

最佳用例
~~~~~~~~

**MariaDB使用案例**\ ：MariaDB对于在不同条件下需要高性能的应用程序非常有效，比如基于Web的应用程序、电子商务平台以及任何速度至关重要的环境。此外，由于MariaDB和MySQL基本兼容，所以MariaDB对于希望平滑地从MySQL过渡的用户来说不失为一个好选择。

**PostgreSQL使用案例**\ ：PostgreSQL提供的强大特性使得它非常适合需要复杂解决方案的企业，比如地理信息系统（GIS）、大型数据库中的全文搜索，还有涉及复杂事务或大型数据集分析的应用。

总结
~~~~~~~~

MariaDB和PostgreSQL之间的选择取决于具体的项目要求：

-  在需要灵活性和速度的情况下，尤其是需要MySQL兼容时，MariaDB是一个不错的选择；
-  在需要强大的数据完整性、广泛的查询特性以及可扩展性，以此来处理各种数据类型并进行分析的应用程序中，PostgreSQL将大放异彩。

| 黄健宏
| 2024.5.18
